targetScope = 'managementGroup'

var variables = json(loadTextContent('../main/variables.json'))

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////// CALLING EXISTING POLICIES ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

resource id3a51db6c_0e50_4a35_8ccc_8b6417029d6b 'Microsoft.Authorization/policydefinitions@2020-09-01' existing = {
  name: 'id3a51db6c-0e50-4a35-8ccc-8b6417029d6b'
	scope: managementGroup(variables.scope)
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////// Variables for Initiatives ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////// Initiatives ///////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

resource initiative_Microsoft_HDInsight 'Microsoft.Authorization/policySetDefinitions@2020-09-01' = {
	name: 'initiative_Microsoft_HDInsight'
	properties: {
		displayName: 'Avanade: Microsoft_HDInsight'
		description: 'Grouping of policies that belong to the resource provider Microsoft_HDInsight'
		policyType: 'Custom'
		metadata: {
			category: 'Avanade: HDInsight'
		}
		policyDefinitions: [
			{
				policyDefinitionId: id3a51db6c_0e50_4a35_8ccc_8b6417029d6b.id
			}
		]
	}
}

