targetScope = 'managementGroup'

var variables = json(loadTextContent('../main/variables.json'))

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////// CALLING EXISTING POLICIES ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

resource iddd05c265_ea39_4599_ad8b_038b3b3bfe25 'Microsoft.Authorization/policydefinitions@2020-09-01' existing = {
  name: 'iddd05c265-ea39-4599-ad8b-038b3b3bfe25'
	scope: managementGroup(variables.scope)
}

resource ide5a173b2_a117_4ad8_addf_b2fdc8f9fea2 'Microsoft.Authorization/policydefinitions@2020-09-01' existing = {
  name: 'ide5a173b2-a117-4ad8-addf-b2fdc8f9fea2'
	scope: managementGroup(variables.scope)
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////// Variables for Initiatives ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////// Initiatives ///////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

resource initiative_Microsoft_DocumentDB 'Microsoft.Authorization/policySetDefinitions@2020-09-01' = {
	name: 'initiative_Microsoft_DocumentDB'
	properties: {
		displayName: 'Avanade: Microsoft_DocumentDB'
		description: 'Grouping of policies that belong to the resource provider Microsoft_DocumentDB'
		policyType: 'Custom'
		metadata: {
			category: 'Avanade: DocumentDB'
		}
		policyDefinitions: [
			{
				policyDefinitionId: iddd05c265_ea39_4599_ad8b_038b3b3bfe25.id
			}
			{
				policyDefinitionId: ide5a173b2_a117_4ad8_addf_b2fdc8f9fea2.id
			}
		]
	}
}

